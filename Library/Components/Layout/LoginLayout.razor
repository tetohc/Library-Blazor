@inherits LayoutComponentBase

<MudThemeProvider Theme="@_theme" IsDarkMode="_isDarkMode" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudLayout>
    <MudAppBar Elevation="1">
        <MudSpacer />
        <MudIconButton Icon="@(DarkLightModeButtonIcon)" Color="Color.Inherit" OnClick="@DarkModeToggle" />
    </MudAppBar>
    <MudMainContent Class="mt-16 pa-4">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
    private bool _isDarkMode = true;
    private MudTheme? _theme = null;

    protected override void OnInitialized()
    {
        base.OnInitialized();

        _theme = new()
        {
            PaletteLight = _lightPalette,
            PaletteDark = _darkPalette,
            LayoutProperties = new LayoutProperties()
            {
                DefaultBorderRadius = "10px"
            },
            Typography = new Typography()
            {
                Default = new DefaultTypography()
                {
                    FontFamily = new[] { "Segoe UI", "Roboto", "Arial", "sans-serif" },
                    FontSize = "1rem"
                },
                H5 = new H5Typography()
                {
                    FontWeight = "700",
                    FontSize = "1.4rem"
                }
            }
        };
    }

    private readonly PaletteLight _lightPalette = new()
    {
        Primary = "#7e6fff",
        Secondary = "#ffb545",
        Tertiary = "#3dcb6c",
        Background = "#f4f6fb",
        Surface = "#ffffff",
        AppbarBackground = "#ffffffcc",
        AppbarText = "#2d2d2d",
        DrawerBackground = "#f9f9fb",
        DrawerText = "#2d2d2d",
        DrawerIcon = "#7e6fff",
        TextPrimary = "#2d2d2d",
        TextSecondary = "#6c6c80",
        ActionDefault = "#7e6fff",
        ActionDisabled = "#bdbdbd",
        ActionDisabledBackground = "#e0e0e0",
        Divider = "#e0e0e0",
        LinesDefault = "#e0e0e0",
        TableLines = "#e0e0e0",
        Info = "#4a86ff",
        Success = "#3dcb6c",
        Warning = "#ffb545",
        Error = "#ff3f5f",
        GrayLight = "#e8e8e8",
        GrayLighter = "#f9f9fb",
    };

    private readonly PaletteDark _darkPalette = new()
    {
        Primary = "#7e6fff",
        Secondary = "#ffb545",
        Tertiary = "#3dcb6c",
        Background = "#181824",
        Surface = "#23233a",
        AppbarBackground = "#23233acc",
        AppbarText = "#e0e0e0",
        DrawerBackground = "#23233a",
        DrawerText = "#e0e0e0",
        DrawerIcon = "#7e6fff",
        TextPrimary = "#e0e0e0",
        TextSecondary = "#b2b0bf",
        ActionDefault = "#7e6fff",
        ActionDisabled = "#9999994d",
        ActionDisabledBackground = "#605f6d4d",
        Divider = "#292838",
        LinesDefault = "#292838",
        TableLines = "#292838",
        Info = "#4a86ff",
        Success = "#3dcb6c",
        Warning = "#ffb545",
        Error = "#ff3f5f",
        GrayLight = "#2a2833",
        GrayLighter = "#23233a",
        OverlayLight = "#23233a80",
    };

    public string DarkLightModeButtonIcon => _isDarkMode switch
    {
        true => Icons.Material.Rounded.AutoMode,
        false => Icons.Material.Outlined.DarkMode,
    };

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private void DarkModeToggle()
    {
        _isDarkMode = !_isDarkMode;
    }

    private readonly Shadow _customShadows = new()
    {
        Elevation = new[]
        {
            "none", // 0
            "0px 1px 3px rgba(126,111,255,0.10)", // 1
            "0px 2px 8px rgba(126,111,255,0.10)", // 2
            "0px 4px 16px rgba(126,111,255,0.15)", // 3
            "0px 6px 20px rgba(126,111,255,0.18)", // 4
            "0px 8px 24px rgba(126,111,255,0.20)", // 5
            "0px 10px 28px rgba(126,111,255,0.22)", // 6
            "0px 12px 32px rgba(126,111,255,0.24)", // 7
            "0px 14px 36px rgba(126,111,255,0.26)", // 8
            "0px 16px 40px rgba(126,111,255,0.28)", // 9
            "0px 18px 44px rgba(126,111,255,0.30)", // 10
            "0px 20px 48px rgba(126,111,255,0.32)", // 11
            "0px 22px 52px rgba(126,111,255,0.34)", // 12
            "0px 24px 56px rgba(126,111,255,0.36)", // 13
            "0px 26px 60px rgba(126,111,255,0.38)", // 14
            "0px 28px 64px rgba(126,111,255,0.40)", // 15
            "0px 30px 68px rgba(126,111,255,0.42)", // 16
            "0px 32px 72px rgba(126,111,255,0.44)", // 17
            "0px 34px 76px rgba(126,111,255,0.46)", // 18
            "0px 36px 80px rgba(126,111,255,0.48)", // 19
            "0px 38px 84px rgba(126,111,255,0.50)", // 20
            "0px 40px 88px rgba(126,111,255,0.52)", // 21
            "0px 42px 92px rgba(126,111,255,0.54)", // 22
            "0px 44px 96px rgba(126,111,255,0.56)", // 23
            "0px 46px 100px rgba(126,111,255,0.58)" // 24
    }
    };
}